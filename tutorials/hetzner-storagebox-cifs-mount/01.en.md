---
SPDX-License-Identifier: MIT
path: "/tutorials/hetzner-storagebox-cifs-mount"
slug: "hetzner-storagebox-cifs-mount"
date: "2025-03-20"
title: "How to mount Hetzner Storagebox with CIFS on Debian 12"
short_description: "Guide to mounting Hetzner Storage Box as a CIFS share on Debian 12 with auto-reconnect, security tips, and technical insights."
tags: ["Backup", "Automation", "Storage Box", "StorageBox", "Debian"]
author: "Croitor Petru"
author_link: "https://github.com/REZANANS-yep"
author_img: "https://avatars3.githubusercontent.com/u/172367621"
author_description: "Little page for little projects ðŸ¤— "
language: "en"
available_languages: ["en"]
header_img: "header-x"
cta: "product"
---

# Introduction
Many users encounter an issue where the network environment displays the error "The Host Is Down." In this tutorial, we use the auto-reconnect option when making a request, which helps avoid this issue.

# Debian 12 guide
1. **Install package**
   Use: `apt install -y cifs-utils`
**Mounting the Hetzner Storage Box as a CIFS (Samba) Network Share in Debian:**
2. **Open the `/etc/fstab` File:**  
   Use your preferred text editor (for example, `nano` or `vim`).
3. **Add the Following Line at the End of the File:**  
   ```bash
   //holu.your-storagebox.de/holu /mnt/storagebox cifs iocharset=utf8,rw,credentials=/etc/smbcredentials/holu,vers=3.0,noauto,x-systemd.automount,x-systemd.idle-timeout=30,_netdev,uid=0,gid=0,file_mode=0660,dir_mode=0770 0 0
   ```  
   _Note #1:_ Replace `holu` with your actual username. 
   
   _Note #2:_ Enter your login and password of storage box at /etc/smbcredentials/holu
3.1 **Example of credentials file** at `/etc/smbcredentials/holu`
Where: username => your storebox username (or subuser); password => your password of storebox
```bash
username=holu
password=1234512345
```
4. **Save the File and Reload the Systemd Daemon:**  
   Execute the following command:  
   ```bash
   sudo systemctl daemon-reload
   ```
5. **Check your mounted box:**  
   You can now use the `/mnt/storagebox` directory to work with your storage.

Below is a detailed technical breakdown of the fstab entry:

```
 //holu.your-storagebox.de/holu /mnt/storagebox cifs iocharset=utf8,rw,credentials=/etc/smbcredentials/holu,vers=3.0,noauto,x-systemd.automount,x-systemd.idle-timeout=30,_netdev,uid=0,gid=0,file_mode=0660,dir_mode=0770 0 0
```

# Technical insight
- **Remote Share:**  
  `//holu.your-storagebox.de/holu`  
  - This is the network path to the CIFS (Samba) share provided by Hetzner.  
  - The first part (`//holu.your-storagebox.de`) indicates the server address, and the second part (`holu`) is the share name on that server.

- **Local Mount Point:**  
  `/mnt/storagebox`  
  - The directory on your local system where the remote share will be mounted.

- **Filesystem Type:**  
  `cifs`  
  - Specifies that the share is mounted using the Common Internet File System (CIFS) protocol, commonly used for Samba shares.

- **Mount Options:**  
  These are comma-separated options that control the behavior of the mount:
  
  - **`iocharset=utf8`:**  
    Sets the character encoding to UTF-8 for proper handling of file names.
  
  - **`rw`:**  
    Mounts the share with read and write permissions.
  
  - **`credentials=/etc/smbcredentials/holu`:**  
    Points to a file containing the username and password required to access the share. This keeps credentials separate from the fstab file.
  
  - **`vers=3.0`:**  
    Specifies the version of the SMB protocol to use (version 3.0 in this case).
  
  - **`noauto`:**  
    Prevents the share from being mounted automatically at boot time. It will instead be mounted on demand.
  
  - **`x-systemd.automount`:**  
    Instructs systemd to automatically mount the share when it is accessed.
  
  - **`x-systemd.idle-timeout=30`:**  
    Tells systemd to unmount the share after 30 seconds of inactivity.
  
  - **`_netdev`:**  
    Indicates that the filesystem resides on a network device, ensuring that the system waits for network availability before attempting to mount.
  
  - **`uid=0` and `gid=0`:**  
    Sets the owner and group of the mounted files to the user and group with ID 0 (typically the root user).
  
  - **`file_mode=0660`:**  
    Sets the permission bits for files, allowing read and write permissions for the owner and group.
  
  - **`dir_mode=0770`:**  
    Sets the permission bits for directories, allowing read, write, and execute permissions for the owner and group.

- **Dump and Filesystem Check Options:**  
  `0 0` arguments  
  - The first `0` disables the dump utility (used for backups).  
  - The second `0` indicates that the filesystem should not be checked at boot time by `fsck`.

# Performance of CIFS
- At now CIFS is most fast solution for your backups, because its not have any encryption by default.

# Security TIPs (Hetzner only)
- External reachability should remain disabled. The Hetzner Storage Box can operate at maximum speed within a local network without it. However, if you plan to mount CIFS on a server that is not hosted by Hetzner, you should enable external reachability! 
- Create new user for backup at linux with restricted access, its additional layer of security, uid=0 and gid=0: (change it to id of user)
- You can't use SSH keys at CIFS Debian 12, make sure file with credentials is secured.

# Credits
Hetzner offical documentation: https://docs.hetzner.com/storage/storage-box/access/access-samba-cifs/

##### License: MIT

<!--

Contributor's Certificate of Origin

By making a contribution to this project, I certify that:

(a) The contribution was created in whole or in part by me and I have
    the right to submit it under the license indicated in the file; or

(b) The contribution is based upon previous work that, to the best of my
    knowledge, is covered under an appropriate license and I have the
    right under that license to submit that work with modifications,
    whether created in whole or in part by me, under the same license
    (unless I am permitted to submit under a different license), as
    indicated in the file; or

(c) The contribution was provided directly to me by some other person
    who certified (a), (b) or (c) and I have not modified it.

(d) I understand and agree that this project and the contribution are
    public and that a record of the contribution (including all personal
    information I submit with it, including my sign-off) is maintained
    indefinitely and may be redistributed consistent with this project
    or the license(s) involved.

Signed-off-by: Croitor Petru pterohost@yahoo.com

-->
