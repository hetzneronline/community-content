# A basic guide to PHP Symfony

## Introduction

Symfony is a popular PHP framework. This means, that it includes a set of components and funtions that can be reused multiple times. [Twig](https://twig.symfony.com/) is used as a powerful templating engine, so the PHP code is seperated from your HTML.

**Prerequisites**

Please note: Those prerequisites are needed at the time of writing. They may, especially required versions, may change at any time.

- PHP in version [7.1.3 or higher](https://github.com/symfony/symfony/blob/master/composer.json#L19).
  - A fair amount of PHP experience is recommended
- [Composer](https://getcomposer.org/). You can check your PHP version by running `php -v`
  - In this tutorial we will assume that composer is installed globally and accessable via the command `composer`
  - Otherwise you can simply replace the `composer` command with `php path/to/composer.phar`. [Read more...](https://getcomposer.org/doc/00-intro.md#locally)
- A (simple) code editor, I am using [Visual Studio Code](https://code.visualstudio.com/)

This tutorial is tested on the following operating systems:

- Ubuntu 18.04.2 LTS bionic with PHP 7.2.15

## Step 01 - Create a new Symfony project

We are start with creating a simple project. This is based on the symfony/website-skeleton. It provides an already configured Symfony application, so we will not have to configure it all on our own. The last argument passed is the folder to use. In our case we will use the name of this tutorial: `a-basic-guide-to-php-symfony`.

```bash
$ composer create-project symfony/website-skeleton a-basic-guide-to-php-symfony
```

<details>
    <summary>(Click to expand) Your output should be similar to this</summary>
    
``` bash
Installing symfony/website-skeleton (v4.2.3.5)
  - Installing symfony/website-skeleton (v4.2.3.5): Downloading (100%)
Created project in a-basic-guide-to-php-symfony
Loading composer repositories with package information
Installing dependencies (including require-dev) from lock file
Package operations: 99 installs, 0 updates, 0 removals
  - Installing ocramius/package-versions (1.4.0): Downloading (100%)
  - Installing symfony/flex (v1.2.0): Downloading (100%)

Prefetching 97 packages ðŸŽ¶
  - Downloading (100%)

  - Installing symfony/polyfill-mbstring (v1.10.0): Loading from cache
  - Installing symfony/contracts (v1.0.2): Loading from cache[
  - Installing doctrine/lexer (v1.0.1): Loading from cache
  - Installing doctrine/annotations (v1.6.0): Loading from cache
  - Installing doctrine/reflection (v1.0.0): Loading from cache
  - Installing doctrine/event-manager (v1.0.0): Loading from cache
  - Installing doctrine/collections (v1.5.0): Loading from cache
  - Installing doctrine/cache (v1.8.0): Loading from cache
  - Installing doctrine/persistence (v1.1.0): Loading from cache
  - Installing symfony/doctrine-bridge (v4.2.3): Loading from cache
  - Installing doctrine/inflector (v1.3.0): Loading from cache
  - Installing doctrine/doctrine-cache-bundle (1.3.5): Loading from cache
  - Installing doctrine/instantiator (1.1.0): Loading from cache
  - Installing symfony/stopwatch (v4.2.3): Loading from cache
  - Installing symfony/console (v4.2.3): Loading from cache
  - Installing zendframework/zend-eventmanager (3.2.1): Loading from cache
  - Installing zendframework/zend-code (3.3.1): Loading from cache
  - Installing ocramius/proxy-manager (2.1.1): Loading from cache
  - Installing doctrine/dbal (v2.9.2): Loading from cache
  - Installing doctrine/migrations (v2.0.0): Loading from cache
  - Installing egulias/email-validator (2.1.7): Loading from cache
  - Installing jdorn/sql-formatter (v1.2.17): Loading from cache
  - Installing phpdocumentor/reflection-common (1.0.1): Loading from cache
  - Installing phpdocumentor/type-resolver (0.4.0): Loading from cache
  - Installing psr/cache (1.0.1): Loading from cache
  - Installing psr/container (1.0.0): Loading from cache
  - Installing psr/simple-cache (1.0.1): Loading from cache
  - Installing symfony/http-foundation (v4.2.3): Loading from cache
  - Installing symfony/event-dispatcher (v4.2.3): Loading from cache
  - Installing psr/log (1.1.0): Loading from cache
  - Installing symfony/debug (v4.2.3): Loading from cache
  - Installing symfony/http-kernel (v4.2.3): Loading from cache
  - Installing symfony/routing (v4.2.3): Loading from cache
  - Installing symfony/finder (v4.2.3): Loading from cache
  - Installing symfony/filesystem (v4.2.3): Loading from cache
  - Installing symfony/dependency-injection (v4.2.3): Loading from cache
  - Installing symfony/config (v4.2.3): Loading from cache
  - Installing symfony/var-exporter (v4.2.3): Loading from cache
  - Installing symfony/cache (v4.2.3): Loading from cache
  - Installing symfony/framework-bundle (v4.2.3): Loading from cache
  - Installing doctrine/common (v2.10.0): Loading from cache
  - Installing sensio/framework-extra-bundle (v5.2.4): Loading from cache
  - Installing symfony/asset (v4.2.3): Loading from cache
  - Installing symfony/dotenv (v4.2.3): Loading from cache
  - Installing symfony/expression-language (v4.2.3): Loading from cache
  - Installing symfony/inflector (v4.2.3): Loading from cache
  - Installing symfony/property-access (v4.2.3): Loading from cache
  - Installing symfony/options-resolver (v4.2.3): Loading from cache
  - Installing symfony/intl (v4.2.3): Loading from cache
  - Installing symfony/polyfill-intl-icu (v1.10.0): Loading from cache
  - Installing symfony/form (v4.2.3): Loading from cache
  - Installing monolog/monolog (1.24.0): Loading from cache
  - Installing symfony/monolog-bridge (v4.2.3): Loading from cache
  - Installing doctrine/orm (v2.6.3): Loading from cache
  - Installing doctrine/doctrine-bundle (1.10.2): Loading from cache
  - Installing doctrine/doctrine-migrations-bundle (v2.0.0): Loading from cache
  - Installing symfony/orm-pack (v1.0.6): Loading from cache
  - Installing symfony/security-core (v4.2.3): Loading from cache
  - Installing symfony/security-http (v4.2.3): Loading from cache
  - Installing symfony/security-guard (v4.2.3): Loading from cache
  - Installing symfony/security-csrf (v4.2.3): Loading from cache
  - Installing symfony/security-bundle (v4.2.3): Loading from cache
  - Installing symfony/serializer (v4.2.3): Loading from cache
  - Installing symfony/property-info (v4.2.3): Loading from cache
  - Installing webmozart/assert (1.4.0): Loading from cache
  - Installing phpdocumentor/reflection-docblock (4.3.0): Loading from cache
  - Installing symfony/serializer-pack (v1.0.2): Loading from cache
  - Installing swiftmailer/swiftmailer (v6.1.3): Loading from cache
  - Installing symfony/swiftmailer-bundle (v3.2.5): Loading from cache
  - Installing symfony/translation (v4.2.3): Loading from cache
  - Installing twig/twig (v2.6.2): Loading from cache
  - Installing symfony/twig-bridge (v4.2.3): Loading from cache
  - Installing symfony/validator (v4.2.3): Loading from cache
  - Installing psr/link (1.0.0): Loading from cache
  - Installing fig/link-util (1.0.0): Loading from cache
  - Installing symfony/web-link (v4.2.3): Loading from cache
  - Installing symfony/yaml (v4.2.3): Loading from cache
  - Installing symfony/process (v4.2.3): Loading from cache
  - Installing facebook/webdriver (1.6.0): Loading from cache
  - Installing symfony/polyfill-php72 (v1.10.0): Loading from cache
  - Installing symfony/var-dumper (v4.2.3): Loading from cache
  - Installing symfony/twig-bundle (v4.2.3): Loading from cache
  - Installing symfony/web-profiler-bundle (v4.2.3): Loading from cache
  - Installing symfony/profiler-pack (v1.0.4): Loading from cache
  - Installing symfony/monolog-bundle (v3.3.1): Loading from cache
  - Installing symfony/debug-bundle (v4.2.3): Loading from cache
  - Installing easycorp/easy-log-handler (v1.0.7): Loading from cache
  - Installing symfony/debug-pack (v1.0.7): Loading from cache
  - Installing symfony/dom-crawler (v4.2.3): Loading from cache
  - Installing nikic/php-parser (v4.2.1): Loading from cache
  - Installing symfony/maker-bundle (v1.11.3): Loading from cache
  - Installing symfony/phpunit-bridge (v4.2.3): Loading from cache
  - Installing symfony/browser-kit (v4.2.3): Loading from cache
  - Installing symfony/panther (v0.3.0): Loading from cache
  - Installing symfony/css-selector (v4.2.3): Loading from cache
  - Installing symfony/test-pack (v1.0.5): Loading from cache
  - Installing symfony/web-server-bundle (v4.2.3): Loading from cache
Generating autoload files
ocramius/package-versions:  Generating version class...
ocramius/package-versions: ...done generating version class
Symfony operations: 21 recipes (8580e8191ddcf764ce7b97e69964e730)
  - Configuring symfony/flex (>=1.0): From github.com/symfony/recipes:master
  - Configuring symfony/framework-bundle (>=4.2): From github.com/symfony/recipes:master
  - Configuring doctrine/annotations (>=1.0): From github.com/symfony/recipes:master
  - Configuring doctrine/doctrine-cache-bundle (>=1.3.5): From auto-generated recipe
  - Configuring symfony/console (>=3.3): From github.com/symfony/recipes:master
  - Configuring symfony/routing (>=4.2): From github.com/symfony/recipes:master
  - Configuring sensio/framework-extra-bundle (>=5.2): From github.com/symfony/recipes:master
  - Configuring doctrine/doctrine-bundle (>=1.6): From github.com/symfony/recipes:master
  - Configuring doctrine/doctrine-migrations-bundle (>=1.2): From github.com/symfony/recipes:master
  - Configuring symfony/security-bundle (>=3.3): From github.com/symfony/recipes:master
  - Configuring symfony/swiftmailer-bundle (>=2.5): From github.com/symfony/recipes:master
  - Configuring symfony/translation (>=3.3): From github.com/symfony/recipes:master
  - Configuring symfony/validator (>=4.1): From github.com/symfony/recipes:master
  - Configuring symfony/twig-bundle (>=3.3): From github.com/symfony/recipes:master
  - Configuring symfony/web-profiler-bundle (>=3.3): From github.com/symfony/recipes:master
  - Configuring symfony/monolog-bundle (>=3.1): From github.com/symfony/recipes:master
  - Configuring symfony/debug-bundle (>=4.1): From github.com/symfony/recipes:master
  - Configuring easycorp/easy-log-handler (>=1.0): From github.com/symfony/recipes:master]
  - Configuring symfony/maker-bundle (>=1.0): From github.com/symfony/recipes:master
  - Configuring symfony/phpunit-bridge (>=4.1): From github.com/symfony/recipes:master
  - Configuring symfony/web-server-bundle (>=3.3): From github.com/symfony/recipes:master
Executing script cache:clear [OK]
Executing script assets:install public [OK]

Some files may have been created or updated to configure your new packages.
Please review, edit and commit them: these files are yours.

              
 What's next?
              

  * Run your application:
    1. Change to the project directory
    2. Create your code repository with the git init command
    3. Run composer require server --dev to install the development web server,
       or configure another supported web server https://symfony.com/doc/current/setup/web_server_configuration.html

  * Read the documentation at https://symfony.com/doc

                        
 Database Configuration
                        

  * Modify your DATABASE_URL config in .env

  * Configure the driver (mysql) and
    server_version (5.7) in config/packages/doctrine.yaml

              
 How to test?
              

  * Write test cases in the tests/ folder
  * Run php bin/phpunit
```

</details>

Now we can `cd` (change directory) into the `a-basic-guide-to-php-symfony` folder. The rest of this tutorial will asume that we are in this directory.

When you are developing "real" applications, using git as a version control system is a great idea. You can initialize a repository and commit the initial state by the following command:
<details>
    <summary>(Click to expand) How to start a git repository</summary>

```bash
$ git init
Initialized empty Git repository in /path/to/a-basic-guide-to-php-symfony/.git/
$ git add . # "Stage" all new files
$ git commit -m "Initial commit" # Commit, "takes a snapshot", the current state
[master (root-commit) f98ccb9] Initial commit
 49 files changed, 7412 insertions(+)
 create mode 100644 .env
 create mode 100644 .env.test
 create mode 100644 .gitignore
 create mode 100755 bin/console
 create mode 100755 bin/phpunit
 create mode 100644 composer.json
 create mode 100644 composer.lock
 create mode 100644 config/bootstrap.php
 create mode 100644 config/bundles.php
 create mode 100644 config/packages/cache.yaml
 create mode 100644 config/packages/dev/debug.yaml
 create mode 100644 config/packages/dev/easy_log_handler.yaml
 create mode 100644 config/packages/dev/monolog.yaml
 create mode 100644 config/packages/dev/routing.yaml
 create mode 100644 config/packages/dev/swiftmailer.yaml
 create mode 100644 config/packages/dev/web_profiler.yaml
 create mode 100644 config/packages/doctrine.yaml
 create mode 100644 config/packages/doctrine_migrations.yaml
 create mode 100644 config/packages/framework.yaml
 create mode 100644 config/packages/prod/doctrine.yaml
 create mode 100644 config/packages/prod/monolog.yaml
 create mode 100644 config/packages/routing.yaml
 create mode 100644 config/packages/security.yaml
 create mode 100644 config/packages/sensio_framework_extra.yaml
 create mode 100644 config/packages/swiftmailer.yaml
 create mode 100644 config/packages/test/framework.yaml
 create mode 100644 config/packages/test/monolog.yaml
 create mode 100644 config/packages/test/routing.yaml
 create mode 100644 config/packages/test/swiftmailer.yaml
 create mode 100644 config/packages/test/web_profiler.yaml
 create mode 100644 config/packages/translation.yaml
 create mode 100644 config/packages/twig.yaml
 create mode 100644 config/packages/validator.yaml
 create mode 100644 config/routes.yaml
 create mode 100644 config/routes/annotations.yaml
 create mode 100644 config/routes/dev/twig.yaml
 create mode 100644 config/routes/dev/web_profiler.yaml
 create mode 100644 config/services.yaml
 create mode 100644 phpunit.xml.dist
 create mode 100644 public/index.php
 create mode 100644 src/Controller/.gitignore
 create mode 100644 src/Entity/.gitignore
 create mode 100644 src/Kernel.php
 create mode 100644 src/Migrations/.gitignore
 create mode 100644 src/Repository/.gitignore
 create mode 100644 symfony.lock
 create mode 100644 templates/base.html.twig
 create mode 100644 tests/.gitignore
 create mode 100644 translations/.gitignore
```
</details>

## Step 02 - Starting the development server

We do not need to configure a webserver during development. PHP and Symfony bring everything needed. PHP can be used to run a development server with the CLI option `-S`. Symfony provides a wrapper, specialized for Symfony's needs. With the file `bin/console` Symfony provides a simple interface to run different commands.

```bash
$ php bin/console server:run

                                                                                                                        
 [OK] Server listening on http://127.0.0.1:8000                                                                         
                                                                                                                        

 // Quit the server with CONTROL-C.

PHP 7.2.15-0ubuntu0.18.04.1 Development Server started at Fri Mar  8 22:23:14 2019
Listening on http://127.0.0.1:8000
Document root is /path/to/a-basic-guide-to-php-symfony/public
Press Ctrl-C to quit.

```

Please note, the adress:port part (`[0.0.0.0:8080]`) is optional and is `the address to listen to`.

To keep the develop server running in background, the terminal multiplexter [tmux](https://www.hamvocke.com/blog/a-quick-and-easy-guide-to-tmux/) is a good option.

Assuming you have not used a custom adressport, we can now visit [http://localhost:8000/](http://localhost:8000/). There we will be welcommed by the "Welcome to Symfony 4.2.3" page containig a few simple informations about the application. On the bottom we will find the so called profiler, a tool that will come in handy later when debugging. For now it can safely be minimized by clicking the small `X` on the bottom right.

## Step 03 - Exploring the file system

Before we start creating our first "real" content, we will explore the file system of Symfony a bit. The directory structure is like this:

```tree
a-basic-guide-to-php-symfony
â”œâ”€â”€ bin
â”œâ”€â”€ config
â”œâ”€â”€ public
â”œâ”€â”€ src
â”œâ”€â”€ templates
â”œâ”€â”€ tests
â”œâ”€â”€ translations
â”œâ”€â”€ var
â””â”€â”€ vendor
```

- In the `bin` folder there are files ment to be used from the console. Here is also our `bin/console` file used to start our development server
- As the name indicates several configuration files for everything from security to routing (matching the requested URL to the PHP Code) are located in the `config` folder
- In the `public` folder are files located that do not need to be generated dynamically. CSS and JS files may be located here. When you [deploy a Symfony application](https://symfony.com/doc/current/deployment.html) the `public` folder must be set as webroot.
- In the `src` folder, which stands for `source`, all of our infamous PHP code will be located.
- `templates` holds the above mentioned twig templates.
- Symfony has a `translations` engine built in, the translation files are hold in this directory.
- The `var`..
- ...and the `vendor` folder can be safely ignored but shall not be deleted!

## Step 04 - Creating our first controller & templates

In Symfony you, especially at the beginning, will generate all dynamic page contens inside of a `Controller`. We will create our first controller by using the `bin/console`. When we run `php bin/consolle make:controller` a promt will appear, asking us for the name of our controller. For now we will use `DefaultController`.

<details>
    <summary>(Click to expand) Output of the command</summary>

```bash
php bin/console make:controller

 Choose a name for your controller class (e.g. TinyChefController):
 > DefaultController

 created: src/Controller/DefaultController.php
 created: templates/default/index.html.twig

           
  Success! 
           

 Next: Open your new controller class and add some pages!
```
</details>

When we have a look in our editor, there are two new files created. We have `src/Controller/DefaultController.php` and also `templates/default/index.html.twig`. The same in both of those is the name of our controller.

When we have a look into those files, preferable side by side, we can notice some similarities. For example: In the `DefaultController.php` we call

```php=15
return $this->render('default/index.html.twig', [
	'controller_name' => 'DefaultController',
]);
```

What we can see here is:
- The path `default/index.html.twig` matches the newly created file in the `templates` folder. This is the path to our twig template.
- As a second argument we pass an array, containig `DefaultController` as `controller_name`. Those are our parameters that can be used in our template. More on that later.

At first we are going to focus on the `*.html.twig` part.

In our `index.html.twig` you'll see that it looks simelar to HTML. That's because it is. In the first line we see the statement: `{% extends 'base.html.twig' %}`. It is a bit like when you build a house. You have a base model of a house, maybe some windows, a door would be nice and not much more. This is our `base.html.twig` (located at `templates/base.html.twig`).  
But what is a house without something behind those windows, without tables in the dinning room? This is our part.

In twig youre base file has so called blocks. Those are areas designated for a certain pice of HTML code to go there. This may be a section for css styles, located right before the closing `</head>` tag. The `javascripts` block is located at the at the end of your `<body>` (HTML tag), after the twig block for the `body`.

When we use `{% block title %}Hello DefaultController!{% endblock %}` in our `index.html.twig` we basicly say the builder: here is the part of text we want in the placeholder called `title`. Please put it in there. When we have a look back in our `base.html.twig` we can see, that the `title` block corresponds to the html `<title>` tag. Go ahead and try changing the content of this block in the `default/index.html.twig`. 

In order to see those changes, we will take a short tripp back to our controller. In the `DefaultController.php` is a class `DefaultController` which contains the function `index`. 


<details>
	<summary>(Click to expand) The index() function</summary>

```php
/**
 * @Route("/default", name="default")
 */
public function index()
{
	return $this->render('default/index.html.twig', [
		'controller_name' => 'DefaultController',
	]);
}
```
	
</details>

Before this function we find a command, the format may remeber some to phpdoc. This type of comment is a so called [Annotation](https://symfony.com/doc/current/page_creation.html#annotation-routes) in symfony. A route (the URL such as `/default` in our example) is defined by the `@Route` part. In there we can see two things. First the url, as defined in the pair of quotation marks, is `/default`. We can also see that this route has a name, this is defined by `name="default"`. The second part will come in handy later, when redirecting and generating links.

Back to the URL, assuming your development server is still running, you can open [localhost:8000/default](http://localhost:8000/default). When we modify the `title` block and reload the page afterwards, we can see our tab title changing. Same goes for the content.

At the beginning of this section, the parameters that are passed to the render function, were mentioned. 

> As a second argument we pass an array, containig `DefaultController` as `controller_name`. Those are our parameters that can be used in our template. ~~More on that later.~~

This variable, `controller_name`, can now be used in our template. This is used in the part `<h1>Hello {{ controller_name }}! âœ…</h1>`. With that, we now can this `controller_name` int the DefaultController. A quick reload of the page shows that we were successful in modifying the heading shown on the page.

## Step 05 - Creating our first route

To not just have the `/default` route, we need to create a new one. We are going to create a simple `Hello world` page. Therefore we will also create a new template. 

Our new route will be `/default/hello`. For this we will create a new function `hello` inside the `DefaultController`. We will configure the routes using the mentioned annotations. Given the name of the new route shall be `default_hello`. Go ahead and try to write the annotations with empty functions yourself.

<details>
	<summary>(Click to expand) Solution</summary>
	
```php=20
/**
 * @Route("/default/hello", name="default_hello")
 */
public function hello()
{

}
```
</details>

We will now create a simple template. We go ahead and create a new template at the path `templates/default/hello.html.twig`. In here we

- extend the `base.html.twig`
- have a simple `<h1>Hello World!</h1>`
- display a short text with the name `description`, passed from the controller

Go ahead and try to do it yourself.

<details>
	<summary>(Click to expand) Solution</summary>
	
`src/Controller/DefaultController.php`
```php=16
             'controller_name' => 'DefaultController',
         ]);
     }
+
+    /**
+     * @Route("/default/hello", name="default_hello")
+     */
+    public function hello()
+    {
+        return $this->render('default/hello.html.twig', [
+            'description' => 'This is the first route I created. Symfony is awesome because it\'s simple to create new routes!', 
+        ]);
+    }
```

`templates/default/hello.html.twig`
	
``` twig
{% extends "base.html.twig" %}

{% block title %}Hello World!{% endblock %}

{% block body %}
    <h1>Hello World!</h1>
    <p> {{ description }} </p>
{% endblock %}
	
```
</details>

We have just created our first route, is it not super simple?


_If youre are using git, it is a good idea to commit after each step of this tutorial!_

## Step 06 - Debugging routes

Symfony provides functionality do debug your routing. Using the command `debug:router` Symfony will return a list of the available routes.

```bash
php bin/console debug:router
 -------------------------- -------- -------- ------ ----------------------------------- 
  Name                       Method   Scheme   Host   Path                               
 -------------------------- -------- -------- ------ ----------------------------------- 
  _twig_error_test           ANY      ANY      ANY    /_error/{code}.{_format}           
  _wdt                       ANY      ANY      ANY    /_wdt/{token}                      
  _profiler_home             ANY      ANY      ANY    /_profiler/                        
  _profiler_search           ANY      ANY      ANY    /_profiler/search                  
  _profiler_search_bar       ANY      ANY      ANY    /_profiler/search_bar              
  _profiler_phpinfo          ANY      ANY      ANY    /_profiler/phpinfo                 
  _profiler_search_results   ANY      ANY      ANY    /_profiler/{token}/search/results  
  _profiler_open_file        ANY      ANY      ANY    /_profiler/open                    
  _profiler                  ANY      ANY      ANY    /_profiler/{token}                 
  _profiler_router           ANY      ANY      ANY    /_profiler/{token}/router          
  _profiler_exception        ANY      ANY      ANY    /_profiler/{token}/exception       
  _profiler_exception_css    ANY      ANY      ANY    /_profiler/{token}/exception.css   
  default                    ANY      ANY      ANY    /default                           
  default_hello              ANY      ANY      ANY    /default/hello                     
 -------------------------- -------- -------- ------ ----------------------------------- 

```

## Step 07 - Linking to routes

In the previous steps we have defined names for our routes, but have not used those. Technically you can define and use routes without a name. But they come in handy when you want to redirect or link other pages. This just will not make it easier at the moment, but at some point you may change a route. You may rename `/default/hello` to `/default/hello-world`. If you would "hardlink" to this path, e.g. having a `<a href="/default/hello">` this would broke all of them.

When you instead link to the route `default_hello` it will automatically generate the route. Together we will explore two ways this can be used:

- redirecting
- linking

### Redirecting

Given you want to redirect, say after deleting a item or something similar.
We will redirect from the route `/` to the route `/default` (wich has the name `default`). 

First we will create the `/` route. For good measure we will also rename the function name for `/default`.

<details>
	<summary>(Click to expand) Full code</summary>
	
```php=8
 class DefaultController extends AbstractController
 {
     /**
-     * @Route("/default", name="default")
+     * @Route("/", name="index")
      */
     public function index()
+    {
+
+    }
+
+    /**
+     * @Route("/default", name="default")
+     */
+    public function default()
         {
         return $this->render('default/index.html.twig', [
             'controller_name' => 'DefaultController',

```
</details>

Now we want to redirect from `/` to `/default`. For a redirect you may use `return $this->redirect('/default');` inside the `index` function. While this would work, in a case where we change the route this redirect would break. 

But fortunately we can use `$this->redirectToRoute('default')`. Symfony will generate the route and will redirect the user correspondingly. The way our code should look by now is below.

<details>
	<summary>(Click to expand) Full code</summary>
	
```php=8
 class DefaultController extends AbstractController
 {
     /**
-     * @Route("/default", name="default")
+     * @Route("/", name="index")
      */
     public function index()
+    {
+        return $this->redirectToRoute('/default');
+    }
+
+    /**
+     * @Route("/default", name="default")
+     */
+    public function default()
     {
         return $this->render('default/index.html.twig', [
             'controller_name' => 'DefaultController',
```
</details>

### Linking

But it is not always thesable to redirect the user. Sometimes we just want to create a simple HTML link inside of our templates. Symfony provides a twig plugin  out of the box that brings such functions with it.

We want to link from `/default` to `/default/hello` and vice versa. 

Inside our `templates/` folder we will insert a simple `<a href="{{ path('default_hello') }}">See us greeting the world!</a>` after the list. Please note the `path('default_hello')`. By this we generate the correct route.

When we have a look in the HTML sent to our client we will see the following line:

```html
<a href="/default/hello">See us greeting the world!</a>
```

Right there is the correctly generated route to our small `Hello world`.

Now go ahead and try to link from our Hello world to the `default` route.

<details>
	<summary>(Click to expand) Full code / Solution</summary>
	
`templates/default/index.html.twig`

```twig=17
         <li>Your template at <code><a href="{{ '/home/user/Documents/hetzneronline/a-basic-guide-to-php-symfony/templates/default/index.html.twig'|file_link(0) }}">templates/default/index.html.twig</a></code></li>
     </ul>
+
+    <br>
+    <a href="{{ path('default_hello') }}">See us greeting the world!</a>
 </div>
```

`templates/default/hello.html.twig`

```twig=5
 {% block body %}
     <h1>Hello World!</h1>
     <p> {{ description }} </p>
+    <a href="{{ path('default') }}">Go back to our default page!</a>
 {% endblock %}
```

</details>

We now have learned how to use the routes we defined earlier. 
