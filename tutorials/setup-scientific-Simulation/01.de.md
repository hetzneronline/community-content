---
SPDX-License-Identifier: MIT
path: "/tutorials/setup-scientific-simulation/de"
slug: "setup-scientific-simulation"
date: "2025-02-13"
title: "Einrichtung der wissenschaftlichen N-Body-Simulation 'AstroGen2'"
short_description: "Dieses Tutorial erklärt, wie die AstroGen2-Simulation auf einem Linux-Server installiert und analysiert wird, um die Sternentstehung in Galaxien und Galaxienwechselwirkungen zu untersuchen."
tags: ["Entwicklung", "Lang:Cmake", "Lang:C++", "Astro", "N-Body", "Simulation", "Wissenschaftlich"]
author: "Kimi Sickinger, Philip Späth"
author_link: "https://github.com/Philip-Spaeth/AstroGen2"
author_img: "https://avatars.githubusercontent.com/u/142172237?s=48&v=4"
author_description: ""
language: "de"
available_languages: ["de", "Weitere verfügbare Sprachen mit ISO 639-1 Codes hinzufügen"]
header_img: "header-x"
cta: "product"
---

## Einführung

Dieses Tutorial erklärt, wie die AstroGen2-Simulation auf einem Linux-Server installiert und analysiert wird, um die Sternentstehung in Galaxien und Galaxienwechselwirkungen zu untersuchen.

**Voraussetzungen**

Bevor du beginnst, stelle sicher, dass dein Server die folgenden Anforderungen erfüllt.

**Für die Installation und Simulation**:

- **Betriebssystem**: Linux (Ubuntu empfohlen)
- **Bereits installiert**:
  
  Vor dem Start installiere die folgende Software auf deinem System:
  
  - CMake (Version 3.10 oder höher)
  - GCC (GNU Compiler Collection)

  ```sh
  sudo apt update
  sudo apt install cmake gcc g++
  ```

<br>

**Für die Analyse der Simulationsergebnisse**:

- **Betriebssystem**: Windows

## Schritt 1 - Installation

Verbinde dich mit deinem Linux-Server und klone das Repository auf deinen Rechner:

```sh
cd ~ && git clone https://github.com/Philip-Spaeth/AstroGen2.git
```

Navigiere in das Projektverzeichnis:

```sh
cd ~/AstroGen2/simulation
```

Baue das Projekt mit CMake:

```sh
mkdir build && cd build
cmake ..
make
```

## Schritt 2 - Einrichtung der Startdaten der Galaxien

Die Anfangsbedingungen für die Galaxien müssen im Verzeichnis `~/AstroGen2/input_data/` gespeichert werden.

Navigiere in den Eingabeordner `~/AstroGen2/input_data/` und klone das Repository `Example_ICs_AG2`:

```sh
cd ~/AstroGen2/input_data/
git clone https://github.com/Philip-Spaeth/Example_ICs_AG2.git
```

## Schritt 3 - Konfiguration der Simulation

Bearbeite die Konfigurationseinstellungen, um Galaxienparameter und Simulationseinstellungen zu definieren:

```sh
nano ~/AstroGen2/simulation/Config.ini
```

Passe folgende Parameter an:

| Parameter            | Beschreibung |
| -------------------- | ------------ |
| `inputPath`          | Passe diesen Parameter an, um den Eingabedatensatz auszuwählen. Das Basisverzeichnis ist `~/AstroGen2/input_data/`.<br><br>Beispiel:<br><kbd>inputPath = Example_ICs_AG2/galIC/22k.dat</kbd> |
| `inputDataFormat`    | Falls das Format der Eingabedatei geändert wird, aktualisiere den Wert von diesem Parameter entsprechend:<br><br><table border="1" style="border-right: 2px solid black;"><tr><td>.dat</td><td>.gal</td><td>.ag</td><td>.agc</td><td>.age</td></tr><tr><td>gadget</td><td>makeGal</td><td>ag</td><td>agc</td><td>age</td></tr></table> |
| `numberOfParticles`  | Setze hier die Anzahl der Partikel für die Simulation. Dieser Wert darf die Anzahl der Partikel in der Eingabedatei nicht überschreiten. Mit der oben genannten Beispiel-Eingabedatei wäre das max. 22000. |
| `numParticlesOutput` | Hiermit kann zusätzlich die Anzahl der gespeicherten Partikel nach der Simulation festgelegt werden. |

## Schritt 4 - Ausführen des kompilierten Programms

Nach dem Bauen des Projekts kann die Simulation ausgeführt werden:
```sh
cd ~/AstroGen2/simulation/build/
./Astro_Genesis
./AstroGen2
```

## Schritt 5 - Analyse der Simulationsergebnisse

Wechsel nun auf dein Windows-Gerät, um dort die Analyse durchzuführen.

### Schritt 5.1 - Einrichtung von AGRender zur Analyse

* Klone das `AGRender`-[Repository](https://github.com/Philip-Spaeth/AGRender)
  
  Das Programm `AGRender` benötigt ein separates Verzeichnis namens `output_data`, um Renderdaten zu speichern.
  ```sh
  <parent-directory>/
  ├── output_data
  └── AGRender
  ```
  
  Falls du mit einem WSL-Subsystem unter Windows arbeitest, kannst du das Repository `AGRender` direkt im Verzeichnis `~/AstroGen2` klonen:
  
  ```sh
  cd ~/AstroGen2/
  git clone https://github.com/Philip-Spaeth/AGRender.git
  ```

<br>

* Verwende vorgefertigte Binärdateien oder kompiliere aus dem Quellcode
  
  Wähle eine der beiden Optionen.
  
  * Verwendung vorgefertigter Binärdateien <sup><small><kbd>empfohlen</kbd></small></sup>
    ```sh
    cd AGRender/pre_build
    ./galaxyPart.exe  oder  ./type.exe
    ```
  
  <br>
  
  * Kompilierung des Projekts mit CMake
    
    ```sh
    mkdir build && cd build
    cmake ..
    make
    ```

Dies sollte eine interaktive Umgebung starten, in der du weitere Angaben machen kannst.

| Option              | Beschreibung                 |
| ------------------- | ---------------------------- |
| Data folder to load | Wähle den `outputfolder` aus |
| video or liveViewer | Wähle Option 2 aus, für die Live-Simulationsansicht |

### Schritt 5.2 - Steuerung von AGRender

- **Maus**: Ansicht drehen

- **Tastatur**: Bewegung und Interaktion mit Partikeln
  
  | Taste        | Aktion |
  | ------------ | ------ |
  | w            | Vorwärts bewegen |
  | s            | Rückwärts bewegen |
  | d            | Nach rechts bewegen |
  | a            | Nach links bewegen |
  | L            | Auf Galaxienzentrum fokussieren |
  | Strg         | Schnellere Bewegung |
  | Leertaste    | Start/Stop der Simulation |
  | Pfeil links  | Geschwindigkeit verringern |
  | Pfeil rechts | Geschwindigkeit erhöhen |
  | Tasten 1-9   | Bestimmte Partikeltypen anzeigen (Gas, Dunkle Materie, etc.) |

## Beispielvisualisierung

<video width="640" height="360" controls>
  <source src="images/andromeda-milkiway.mp4" type="video/mp4">
  Dein Browser unterstützt das Video-Tag nicht.
</video>

## Ergebnis


