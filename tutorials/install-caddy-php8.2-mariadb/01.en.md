---
SPDX-License-Identifier: MIT
path: "/tutorials/install-caddy-php8.2-mariadb"
slug: "install-caddy-php8.2-mariadb"
date: "2023-09-23"
title: "How i install Caddy Webserver with PHP 8.2 and MariaDB"
short_description: "In this tutorial you see how i install the Caddy Webserver with PHP 8.2 and MariaDB 10.11.5"
tags: ["Lang:BASH"]
author: "Lauras Universe"
author_link: "https://github.com/Lauras-Universe"
author_img: "https://avatars.githubusercontent.com/u/145849998"
author_description: "Install something to the server, plain webserver with caddy, or apache2 Webserver with Keyhelp, or streamingserver with Azuracast and many more"
language: "en"
available_languages: ["en"]
header_img: "header-x"
cta: "product"
---

## Introduction

**Prerequisites**

* SSH
* Domain
* Server (ARM64 or x64)
* Nano

## Step 1. - Get the system up to date


| Debian & Ubuntu | CentOS (Rocky, Alma) |
| ----------- | ----------- |
| ``` apt update && apt upgrade -y ```      | ``` dnf update -y ```       |

## Step 2. - Reboot the system

``` reboot ```

## Step 3. - Install caddy webserver

| Debian & Ubuntu | CentOS 7 yum | CentOS 8,9 (Rocky, Alma) dnf |
| ----------- | ----------- | ----------- |
| ` apt install -y debian-keyring debian-archive-keyring apt-transport-https ` | `yum install yum-plugin-copr` | `dnf install 'dnf-command(copr)'` |
 `curl -1sLf 'https://dl.cloudsmith.io/public/caddy/stable/gpg.key' \| gpg --dearmor -o /usr/share/keyrings/caddy-stable-archive-keyring.gpg ` | `yum copr enable @caddy/caddy` | `dnf copr enable @caddy/caddy -y` |
 `curl -1sLf 'https://dl.cloudsmith.io/public/caddy/stable/debian.deb.txt' \| tee /etc/apt/sources.list.d/caddy-stable.list`
 `apt update && apt install caddy -y` | `yum install caddy -y` | `dnf install caddy -y` |

 ## Step 4 - Install PHP 8.2

 | Debian | Ubuntu |
 | -------- | -------- |
 | `wget -O /etc/apt/trusted.gpg.d/php.gpg https://packages.sury.org/php/apt.gpg `
 `echo "deb https://packages.sury.org/php/ $(lsb_release -sc) main" \| tee /etc/apt/sources.list.d/php.list` | `add-apt-repository ppa:ondrej/php` | 
 | `apt update` | `apt update` |
 | `apt install php8.2 php-{curl,mbstring,zip,xml,soap,cli,fpm} -y` | `apt install php8.2 php-{curl,mbstring,zip,xml,soap,cli,fpm} -y` |

 | CentOS 7 yum | CentOS 8,9 (Rocky, Alma) dnf |
 | -------- | -------- |
 | `yum -y install https://dl.fedoraproject.org/pub/epel/epel-release-latest-7.noarch.rpm` | `dnf install -y https://dl.fedoraproject.org/pub/epel/epel-release-latest-8.noarch.rpm` |
 | `yum -y install http://rpms.remirepo.net/enterprise/remi-release-7.rpm` | `dnf install -y https://rpms.remirepo.net/enterprise/remi-release-8.rpm` |
 | `yum-config-manager --enable remi-php82 -y` | `dnf module enable php:remi-8.2 -y` |
 | `yum -y install php php-{curl,mbstring,zip,xml,soap,cli,fpm} ` | `dnf -y install php php-{curl,mbstring,zip,xml,soap,cli,fpm}` |

 ## Step 5. -  Install MariaDB v10.11.5

 | CentOS 7 yum | CentOS 8,9 (Alma, Rocky) dnf |
 | -------- | -------- |
 | `curl -LsS -O https://downloads.mariadb.com/MariaDB/mariadb_repo_setup` | `curl -LsS -O https://downloads.mariadb.com/MariaDB/mariadb_repo_setup` |
 | `bash mariadb_repo_setup --mariadb-server-version=10.11.5` | `bash mariadb_repo_setup --mariadb-server-version=10.11.5` |
| `yum install boost-program-options -y` | `dnf install boost-program-options -y` |
| `yum module reset mariadb -y` | `dnf module reset mariadb -y` |
| `yum install MariaDB-server MariaDB-client MariaDB-backup -y` | `dnf install MariaDB-server MariaDB-client MariaDB-backup -y` |
| `systemctl enable --now mariadb` | `systemctl enable --now mariadb` |

| Debian Based |
| -------- |
| `curl -LsS -O https://downloads.mariadb.com/MariaDB/mariadb_repo_setup` |
| `bash mariadb_repo_setup --mariadb-server-version=10.11.5` |
| `apt install mariadb-server mariadb-client mariadb-backup` |
| `systemctl enable --now mariadb` |

### Step 5.1 - For all systems Secure MariaDB

``` mariadb-secure-installation ```

## Step 6. - Now we can get fill the Caddyfile
The configuration file from Caddy

### For all systems

` nano /etc/caddy/Caddyfile ` 

Here an example for a PHP Site

| Debian based | Centos 7,8,9 (Rocky, Alma) |
| -------- | -------- |
| <pre> your_domain_or_subdomain { <br />  file_server <br />  root * the_folder_to_your_website <br />  encode gzip zstd <br />  php_fastcgi unix//run/php/php8.2-fpm.sock<br />}</pre> | <pre> your_domain_or_subdomain { <br />  file_server <br />  root * the_folder_to_your_website <br />  encode gzip zstd <br />  php_fastcgi unix//run/php/php-fpm.sock <br />}</pre> |

Now press `Strg + x` Or `CMD + x` `Y` `Enter`

If you are back in the terminal now execute

`systemctl restart caddy`

Caddy now get's the SSL Certificate for free with Let's Encrypt

## Conclusion

Now we have installed and configured a Webserver with PHP and Mariadb

The Caddy Webserver is a new and speedup webserver, you have one config file to configure all websites or reverseproxys

### If you want to get your Database over the browser? You can use phpMyAdmin or Adminer

Extract the archive in a folder and add the folder with the caddy Example for PHP Site to the Caddyfile and restart caddy after this. Add the right folder to the root line.

Here the Downloadlinks to phpMyAdmin and Adminer

https://www.phpmyadmin.net/downloads/

https://www.adminer.org/#download

## Here the credentials

https://caddyserver.com/docs/install

https://mariadb.com/kb/en/mariadb-package-repository-setup-and-usage/

https://blog.remirepo.net/post/2023/04/19/Install-PHP-8.2-on-Fedora-RHEL-CentOS-Alma-Rocky-or-other-clone

https://techvblogs.com/blog/install-php-8-2-ubuntu-22-04

https://www.linuxtechi.com/how-to-install-php-on-debian/
