---
SPDX-License-Identifier: MIT
path: "/tutorials/how-to-install-a-lemp-stack-phpmyadmin-on-ubuntu-2204-lts"
slug: "how-to-install-a-lemp-stack-phpmyadmin-on-ubuntu-2204-lts"
date: "2023-07-20"
title: "How to install LEMP Stack + phpMyAdmin on Ubuntu 22.04"
short_description: "How to install LEMP Stack + phpMyAdmin on Ubuntu 22.04"
tags: ["Nginx", "LAMP", "PHP", "MySQL", "Ubuntu 22.04", "Server Setup", "Ubuntu", "Security"]
author: "Mykola Shostakov"
author_link: "https://github.com/ssnikolas"
author_img: "https://avatars3.githubusercontent.com/u/26026645"
author_description: "Python developer at Pirmann Media"
language: "en"
available_languages: ["en"]
header_img: "header-x"
cta: "dedicated"
---

## Introduction

In this tutorial I'm going to cover how to install `LEMP`(Linux, Nginx, MySQL, PHP) and phpMyAdmin on an Ubuntu 22.04 server. Additionally I'm going to setup a simple website and create the configuration within `Nginx` to make the website available.

**Prerequisites**

* [How to install a LEMP Stack + phpMyAdmin on Ubuntu 22.04 LTS](https://community.hetzner.com/tutorials/how-to-install-a-lemp-stack-phpmyadmin-on-ubuntu-2204-lts)
* A domain name, e.g. `example.com` with an `A` and optionaly an `AAAA` DNS record pointing to your server. 

**Example terminology**

* Username: root
* IPv4: 10.0.0.1
* Domain: example.com

Please replace `root` with an own username, `10.0.0.1` with your own IP address and `example.com` with your own domain in all example commands.

## Step 1 - Login to server

Login to your server using a user with sudo privileges:

```shell
ssh root@10.0.0.1
```

### Step 2 - Update your system

Make sure your Ubuntu server is fully up to date:

```shell
sudo apt update
sudo apt upgrade
```

## Step 3 - Install Nginx

Next, install the Nginx web server:

```shell
sudo apt install nginx
```
After you install Nginx, you can start and enable the service using these commands:

```shell
sudo systemctl start nginx
sudo systemctl enable nginx
```

To verify that Nginx is running, you can enter your server IP address into a web browser. You should see the Nginx default welcome page.

## Step 4 - Install MySQL

Next, install MySQL to manage site data:

```shell
sudo apt install mysql-server
```

After installing MySQL, it is recommended to run a security script that comes pre-installed with MySQL:

```shell
sudo mysql_secure_installation
```

Follow the prompt to configure your security settings.

## Step 5 - Install PHP

The final component is PHP. As you asked for PHP 8.2, you might need to add an additional repository:

```shell
sudo add-apt-repository ppa:ondrej/php
sudo apt update
```

Now, install PHP 8.2 and some common PHP extensions:

```shell
sudo apt install php8.2 php8.2-mysql php8.2-fpm php8.2-mbstring php8.2-xml php8.2-curl
```

Configure Nginx to use PHP processor. First, backup the default configuration:

```shell
sudo cp /etc/nginx/sites-available/default /etc/nginx/sites-available/default.bak
```

Open the default configuration file:

```shell
sudo nano /etc/nginx/sites-available/default
```

Under the server block, you'll find the location block. Change it to match the following:

```shell
location ~ \.php$ {
        include snippets/fastcgi-php.conf;
        fastcgi_pass unix:/var/run/php/php8.2-fpm.sock;
}
```

Save and exit the editor (Ctrl+X, Y, Enter), then check the configuration for syntax errors:

```shell
sudo nginx -t
```

If there aren't any problems, restart Nginx to apply the changes:

```shell
sudo systemctl restart nginx
```

### Step 6 - Install phpMyAdmin

To manage your databases through a web interface, install phpMyAdmin:

```shell
sudo apt install phpmyadmin
```

During the installation process, you will be prompted to choose a server. Select "none" and continue. You will also be asked whether you would like dbconfig-common to configure a database for phpmyadmin, select "yes".

Next, create a symbolic link from the phpMyAdmin directory to your Nginx document root directory:

```shell
sudo ln -s /usr/share/phpmyadmin /var/www/html
```

Restart Nginx to apply the changes:

```shell
sudo systemctl restart nginx
```

You should now be able to access the phpMyAdmin web interface by visiting your server's domain name or public IP address followed by /phpmyadmin.

### Step 7 - Finalizing PHP configuration

To finish, you'll want to adjust some PHP settings. Open the PHP configuration file for editing:

```shell
sudo nano /etc/php/8.2/fpm/php.ini
```

Find and modify the following lines to increase PHP's file upload limits:

```shell
upload_max_filesize = 32M
post_max_size = 48M
```

Next, you'll want to adjust the max execution time, which determines how long a script is allowed to run before it's terminated:

```shell
max_execution_time = 600
```

Once you've made these changes, save and close the file. Then, restart the PHP service:

```shell
sudo systemctl restart php8.2-fpm
```

That's it! You should now have a fully functional LEMP stack with PHP 8.2 and phpMyAdmin installed.

Please note that this is a basic setup guide. In a production environment, you would also need to consider configuring a firewall, setting up SSL, regular backups, etc.

##### License: MIT

<!--

Contributor's Certificate of Origin

By making a contribution to this project, I certify that:

(a) The contribution was created in whole or in part by me and I have
    the right to submit it under the license indicated in the file; or

(b) The contribution is based upon previous work that, to the best of my
    knowledge, is covered under an appropriate license and I have the
    right under that license to submit that work with modifications,
    whether created in whole or in part by me, under the same license
    (unless I am permitted to submit under a different license), as
    indicated in the file; or

(c) The contribution was provided directly to me by some other person
    who certified (a), (b) or (c) and I have not modified it.

(d) I understand and agree that this project and the contribution are
    public and that a record of the contribution (including all personal
    information I submit with it, including my sign-off) is maintained
    indefinitely and may be redistributed consistent with this project
    or the license(s) involved.

Signed-off-by: Johannes Pirmann johannes.pirmann@gmail.com

-->
