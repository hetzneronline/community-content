---
SPDX-License-Identifier: MIT
path: "/tutorials/resize-root-and-create-data-partition"
slug: "resize-root-and-create-data-partition"
date: "2025-09-10"
title: "How to Resize the Root Partition and Create a Data Partition (Rescue System)"
short_description: "Shrink the root partition to free up space and create a new data partition using the Hetzner Rescue System."
tags: ["rescue-system", "debian", "ubuntu", "parted", "filesystem", "ext4"]
author: "Max Witt"
author_link: "https://github.com/SiFu_Max09"
author_img: "https://avatars.githubusercontent.com/u/131544883"
author_description: ""
language: "en"
available_languages: ["en"]
header_img: "header-4"
cta: "dedicated"
---

## Introduction

In this tutorial, we will go through the process of shrinking the root partition of a Linux server and creating a new data partition in the freed space. This guide is specifically tailored for servers running in the Hetzner environment, making use of the Hetzner Rescue System.

This tutorial assumes you have already activated the Rescue System from your Hetzner Robot or Cloud Console.

---

## Prerequisites

* Hetzner Cloud Account
* A Hetzner server with root access
* A backup of all important data (strongly recommended) - You can make a Snapshot in the Console if you have data on the machine
* Hetzner Rescue System activated

---

## Steps

### 1. Boot into the Rescue System

* Boot the server into the Hetzner Rescue System.
* Ensure that the root partition is not mounted.

### 2. Check and Shrink the Filesystem

Run the following commands to check and shrink the filesystem:

```bash
e2fsck -f -y /dev/sda1
resize2fs /dev/sda1 20G
```

This reduces the root filesystem to 20 GB.

### 3. Adjust the Partition

Resize the root partition to a slightly larger size than the filesystem to allow some buffer (22 GB in this case):

```bash
parted /dev/sda
print
resizepart 1 22GB
quit
```

### 4. Repair the Filesystem

```bash
e2fsck -f -y /dev/sda1
```

This verifies and repairs the resized filesystem.

### 5. Create a New Partition

Use the remaining free space for a new partition:

```bash
parted /dev/sda mkpart primary ext4 22GB 100%
mkfs.ext4 /dev/sda2
```

This creates and formats a new ext4 partition.

### 6. Mountpoint Preparation

Prepare and mount the new partition:

```bash
mkdir /data
mount /dev/sda2 /data
df -h | grep data
```

Reboot the server to exit the Rescue System and boot normally.

### 7. Get the UUID

Check the UUID of the new partition:

```bash
blkid /dev/sda2
```

Save the UUID for the fstab configuration.

### 8. Configure fstab

Edit `/etc/fstab` and add the following line:

```fstab
UUID=<uuid-data>   /data   ext4   defaults   0  2
```

Replace `<uuid-data>` with the UUID of `/dev/sda2`.

### 9. Test the Setup

Reload systemd and remount all:

```bash
systemctl daemon-reload
mount -a
```

Verify with:

```bash
df -h
```

Reboot the server to ensure the configuration persists:

```bash
reboot
df -h
```

---

## Conclusion

* The root partition (`/`) has been reduced to 20 GB.
* A new data partition (`/data`) uses the remaining disk space.
* Automatic mounting of `/data` is configured via `fstab`.

---

## License

This tutorial is licensed under MIT License.

Signed-off-by: \[Your Name] [your@email.tld](mailto:your@email.tld)
