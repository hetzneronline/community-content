---
SPDX-License-Identifier: MIT
path: "/tutorials/run-qrvpn-server-with-docker-on-rocky-linux"
slug: "run-qrvpn-server-with-docker-on-rocky-linux"
date: "2026-02-26"
title: "Run Qrvpn Server with Docker on Rocky Linux"
short_description: "Set up a Qrvpn server on Rocky Linux with Docker and stay hidden: no exposed ports, no public IP, no inbound traffic."
tags: ["VPN", "Qrvpn", "WireGuard", "Docker"]
author: "x90nik"
author_link: "https://github.com/x90nik"
author_img: "https://avatars.githubusercontent.com/u/40915667"
author_description: ""
language: "en"
available_languages: ["en", "de"]
header_img: "header-1"
cta: "cloud"
---

## Introduction

This tutorial shows how to deploy **Qrvpn** on a **Rocky Linux VPS** using **Docker**, and how to connect to it from **Windows** client.

[Qrvpn][qrvpn] is developed by [VentoByte][ventobyte] the team behind the [Proxifier][proxifier].

**Qrvpn** is based on the industry-leading WireGuard VPN protocol. It provides the optimal performance and the state-of-the-art end-to-end encryption of the data in transit. No data is stored.

**Prerequisites**

Before you begin, you need:

* A [VPS][hetzner] running [Rocky Linux 10][rocky]
* `root` or `sudo` access
* A public IPv4 address

### How Qrvpn Works

This section explains why Qrvpn does not require open ports.

#### High-level Architecture

**Qrvpn** uses an **outbound-only connection model** combined with **NAT traversal** and **encrypted relays**.
Neither the server nor the client ever listens for inbound connections.

Important details:

* Traffic remains **end-to-end encrypted**.
* The relay cannot inspect payloads.
* No open ports.

![NAT Traversal](images/nat-traversal.png)

#### Connection Flow

<table border="1" style="min-width:29rem;">
<tr><td>Server Registration</td>
<td>
<br>

When the **Qrvpn** server starts:

* It opens an **outbound encrypted connection** to the **Qrvpn**'s backend infrastructure.
* Registers its cryptographic identity.
* Maintains a heartbeat.

Because the connection is outbound, it works behind NAT and Firewalls. As a result:

* The server is unreachable from the public internet.
* Attack surface is drastically reduced.

</td>
</tr>

<tr><td>Client Authentication</td>
<td>
<br>

When a client connects:

* It also opens an **outbound connection** to the **Qrvpn**'s backend server.
* Authenticates and requests access to the server.

Still no inbound traffic is required.

</td>
</tr>

<tr><td>NAT Traversal (Direct Tunnel)</td>
<td>
<br>

**Qrvpn** attempts to establish a **direct peer-to-peer tunnel** using NAT traversal techniques (similar to WebRTC):

```
Client <--- Encrypted P2P Tunnel --->  Server
```

If successful:

* Traffic flows directly
* Low latency
* No relay usage

</td>
</tr>

</table>

## Step 1 - Install Docker on Rocky Linux

I purchased a [Rocky Linux 10][rocky] VPS instance on [Hetzner Cloud][hetzner].

You need to install Docker on your Rocky Linux instance.
If you are using a different Linux distribution, follow the steps provided on the official [Docker website][docker_install].

```sh
# Update your instance
dnf -y update

# Install useful packages
dnf -y install \
	epel-release \
	bash-completion

# Reboot your Linux instance
reboot
```
```sh
# Add the Docker repository
dnf config-manager \
	--add-repo \
	https://download.docker.com/linux/centos/docker-ce.repo

# Install Docker Engine
dnf -y install \
	docker-ce \
	docker-ce-cli \
	containerd.io \
	docker-compose-plugin

# Enable and start Docker service
systemctl --now enable docker

# Verify installation
docker version
```

## Step 2 - Build the Docker image

After installing Docker, we have to create our Docker image.
As you may know, Docker images are immutable, which means they can't be modified once created.

```sh
# Create project directory
mkdir /etc/qrvpn

# Change the current working directory
cd /etc/qrvpn

# Create Dockerfile with vim editor
vi Dockerfile
```

This is our `Dockerfile` config file and instructions about how Docker should build the image.

**Dockerfile**

```md
# Use Rocky Linux as the base image
FROM rockylinux/rockylinux:10

# Qrvpn runtime environment
ENV PATH=$PATH:/etc/qr
WORKDIR /etc/qr

RUN \
	curl -O "https://get.qrvpn.com/qrvpn.tgz" && \
	tar -zxvf qrvpn.tgz && \
	rm -rf qrvpn.tgz

# Specify the start point of your image
ENTRYPOINT ["sh", "-c", "qrvpn $QR_MODE $QR_SERVER_NAME $QR_PASSWORD $QR_INSTANCE_ID"]
```

It's time to build the new image.

```sh
# Build
docker build --rm -t qrvpn:1.0 --file Dockerfile ./

# Check Docker images on your Linux machine
docker image list --all
```

## Step 3 - Run the Docker container

You must specify 4 environment variables in order to start **Qrvpn**.

```sh
# QR_MODE         -->  "server" or "client"
# QR_SERVER_NAME  -->  a random string
# QR_PASSWORD     -->  server password
# QR_INSTANCE_ID  -->  a 6-digit number
```
```sh
# Start the container
docker run -d \
	--name=c_qrvpn \
	--restart always \
	--cap-add NET_ADMIN \
	--device /dev/net/tun \
	--sysctl net.ipv4.conf.all.src_valid_mark=1 \
	-e QR_MODE=server \
	-e QR_SERVER_NAME=my_server \
	-e QR_PASSWORD=strong_password \
	-e QR_INSTANCE_ID=333999 \
	qrvpn:1.0
```
```sh
# Check logs
docker logs c_qrvpn
```

If you see an error like the one below, change the `QR_SERVER_NAME`.

```sh
# [E] Server with this name already exists.
```

If the server runs successfully, you should see log output similar to the following:

```sh
# [M] Initialization started
# [M] VPN interface opened tun0
# [M] VPN interface initialized
# [M] Server ready
```

## Step 4 - Connect from Windows

### Step 4.1 - Download the Qrvpn Client

Download the Windows client from the official [**Qrvpn**][qrvpn_download] website.

### Step 4.2 - Client section

* Open the **Qrvpn** client.
* Press the **Client** button.
  ![Qrvpn Windows](images/qrvpn-windows.png)

* Select the **Name and Password** button.
  ![Qrvpn Name and Password](images/qrvpn-name-password.png)

* Fill the **Server Name** and **Password**.
  ![Qrvpn Connect](images/qrvpn-connect.png)
  ![Qrvpn Online](images/qrvpn-online.png)

* Verify that your public IP address has changed using a web browser (e.g. at [ip.hetzner.com](https://ip.hetzner.com/)).

## Conclusion

You have successfully deployed **Qrvpn** on a **Rocky Linux VPS** using **Docker** and connected a client from **Windows**.

This setup is lightweight, reproducible, and easy to maintain for personal or small-team VPN usage.

[hetzner]: https://www.hetzner.com/cloud/
[rocky]: https://rockylinux.org/
[docker_install]: https://docs.docker.com/engine/install/

[ventobyte]: https://ventobyte.com/
[proxifier]: https://www.proxifier.com/
[qrvpn]: https://www.qrvpn.com/
[qrvpn_download]: https://www.qrvpn.com/download/

##### License: MIT

<!--

Contributor's Certificate of Origin

By making a contribution to this project, I certify that:

(a) The contribution was created in whole or in part by me and I have
    the right to submit it under the license indicated in the file; or

(b) The contribution is based upon previous work that, to the best of my
    knowledge, is covered under an appropriate license and I have the
    right under that license to submit that work with modifications,
    whether created in whole or in part by me, under the same license
    (unless I am permitted to submit under a different license), as
    indicated in the file; or

(c) The contribution was provided directly to me by some other person
    who certified (a), (b) or (c) and I have not modified it.

(d) I understand and agree that this project and the contribution are
    public and that a record of the contribution (including all personal
    information I submit with it, including my sign-off) is maintained
    indefinitely and may be redistributed consistent with this project
    or the license(s) involved.

Signed-off-by: Nik oqabemail@gmail.com

-->
