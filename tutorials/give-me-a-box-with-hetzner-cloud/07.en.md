## Troubleshooting

### Common Issues

#### "Provider 'hetzner' is not configured"

Run `gmab configure -p hetzner` to set up your Hetzner credentials.

#### "Failed to create server: Invalid API token"

Your Hetzner API token is invalid or has expired. Generate a new token and update your configuration.

#### Instance shows as "expired" but still running

This is normal behavior. Expired instances continue running until explicitly terminated.

#### "SSH key not found"

Check the path to your SSH public key in the GMAB configuration:

```bash
gmab configure --print
```

Update if necessary:

```bash
gmab configure -p hetzner
```

## Best Practices

### Use Meaningful Lifetimes

Set reasonable expiration times based on your actual needs:

```bash
# For quick tests (30 minutes)
gmab spawn -p hetzner -t 30
   
# For longer running tasks (4 hours)
gmab spawn -p hetzner -t 240
```

### Regular Cleanup

Either:
- Set up a cron job to run `gmab terminate expired -y` regularly
- Make it a habit to run cleanup manually at the end of your work session

### Security Recommendations

- Create a dedicated Hetzner project specifically for GMAB
- Use an API token with appropriate permissions
- Rotate your Hetzner API tokens periodically
- Store configuration files securely

### Regional Selection

Choose regions close to your target audience or workload for better performance.

## Conclusion

GMAB with Hetzner Cloud provides an efficient way to deploy temporary instances for various use cases. The expiration mechanism helps you keep track of resources without forcing immediate termination, giving you flexibility while helping to avoid unexpected costs.

Key takeaways:
- Instances are marked as "expired" after their lifetime elapses but continue running
- You must explicitly terminate instances with `gmab terminate`
- The `-y` flag skips confirmation prompts, useful for automated cleanup
- Setting up a cron job for regular cleanup is highly recommended

With this knowledge, you can efficiently use GMAB to manage temporary Hetzner Cloud instances for your projects, tests, and workflows.

##### License: MIT

<!---

Contributors's Certificate of Origin

By making a contribution to this project, I certify that:

(a) The contribution was created in whole or in part by me and I have
    the right to submit it under the license indicated in the file; or

(b) The contribution is based upon previous work that, to the best of my
    knowledge, is covered under an appropriate license and I have the
    right under that license to submit that work with modifications,
    whether created in whole or in part by me, under the same license
    (unless I am permitted to submit under a different license), as
    indicated in the file; or

(c) The contribution was provided directly to me by some other person
    who certified (a), (b) or (c) and I have not modified it.

(d) I understand and agree that this project and the contribution are
    public and that a record of the contribution (including all personal
    information I submit with it, including my sign-off) is maintained
    indefinitely and may be redistributed consistent with this project
    or the license(s) involved.

Signed-off-by: Steve Cannivy <steve@roudeleiw.lu>

-->