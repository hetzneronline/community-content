## Schritt 5 - Verwalten Ihrer Instanzen

GMAB bietet Befehle, die Ihnen bei der Verwaltung Ihrer temporären Instanzen helfen.

### Auflisten aller Instanzen

Um alle Ihre aktiven Hetzner-Instanzen anzuzeigen:

```bash
gmab list -p hetzner
```

Beispielausgabe:

```
Provider    Instance ID            Label                IP Address        Status              Region        Image                     Time Left
=====================================================================================================================
hetzner     12345678              gmab-abc123def456    192.168.1.100    running             nbg1          ubuntu-22.04              45m
hetzner     98765432              gmab-ghi789jkl012    10.0.0.100       running             hel1          ubuntu-22.04              15m
hetzner     56781234              gmab-mno345pqr678    10.0.2.200       running (expired)   fsn1          debian-11                 expired
```

Die Spalte `Time Left` zeigt, wie viel Zeit verbleibt, bevor die Instanz als abgelaufen betrachtet wird.

### Den Ablaufmechanismus verstehen

Ein Hauptmerkmal von GMAB ist der Ablaufmechanismus. So funktioniert er:

1. Wenn Sie eine Instanz erstellen, geben Sie eine Lebensdauer in Minuten an (Standard ist 60)
2. GMAB verfolgt diese Lebensdauer und markiert Instanzen als "abgelaufen", sobald die Zeit abgelaufen ist
3. **Wichtig: GMAB beendet abgelaufene Instanzen NICHT automatisch**
4. Sie müssen explizit einen Befehl ausführen, um abgelaufene Instanzen zu beenden

Dieses Design gibt Ihnen die Kontrolle darüber, wann Instanzen tatsächlich beendet werden, und verhindert unerwartete Unterbrechungen, während Sie sie noch verwenden.

### Beenden von Instanzen

Um eine bestimmte Instanz zu beenden:

```bash
gmab terminate 12345678  # Verwendung der Instanz-ID
```

Oder:

```bash
gmab terminate gmab-abc123def456  # Verwendung des Labels
```

Um mehrere Instanzen gleichzeitig zu beenden:

```bash
gmab terminate 12345678 98765432
```

#### Beenden aller Instanzen

Um alle Ihre Hetzner-Instanzen zu beenden:

```bash
gmab terminate all -p hetzner
```

Sie werden zur Bestätigung aufgefordert:

```
Die folgenden Instanzen werden beendet:
- 12345678 (hetzner: gmab-abc123def456)
- 98765432 (hetzner: gmab-ghi789jkl012)
- 56781234 (hetzner: gmab-mno345pqr678)
Möchten Sie fortfahren? [j/N]: 
```

#### Beenden abgelaufener Instanzen

Die häufigste Bereinigungsaufgabe ist das Beenden abgelaufener Instanzen:

```bash
gmab terminate expired -p hetzner
```

Auch hier erhalten Sie eine Bestätigungsaufforderung:

```
Die folgenden abgelaufenen Instanzen werden beendet:
- 56781234 (hetzner: gmab-mno345pqr678)
Möchten Sie fortfahren? [j/N]: 
```

#### Verwendung des -y Flags für automatisierte Bereinigung

Für Skripte oder automatisierte Aufgaben können Sie das `-y` Flag verwenden, um Bestätigungsaufforderungen zu umgehen:

```bash
gmab terminate expired -p hetzner -y
```

Dies ist besonders nützlich für geplante Bereinigungsaufgaben, wie wir im nächsten Abschnitt sehen werden.